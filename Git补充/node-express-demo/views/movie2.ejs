<!DOCTYPE html>
<html>
  <head>
    <title>电影解析页面</title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        img{
            display: block;
            width: 50px;
            height: 50px;
            background-size: cover;
        }
        p{
            font-size: 25px;
            font-weight: 600;
            text-align: center;
            color: crimson;
        }
        .btn1{
            background-color: chocolate;
            width: 200px;
            height: 50px;
            color: blanchedalmond;
            margin-top: 20px;
        }
        .table{
            margin-top: 50px;
        }
    </style>
  </head>
  <body>
    <p>电影解析列表</p>
    <button class="btn1">点击查看正在热映的电影列表</button>
    <table class="table">
        <tr>
            <th>类型</th>
            <th>id</th>
            <th>图片</th>
            <th>标题</th>
            <th>年份</th>
        </tr>
    </table>
    
    <!-- 引入bootstarp -->
    <script src="/lib/jquery-3.3.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>
    
    <script>
        var url = '/data/in_theaters.json';
        $('.btn1').click(function(){
            $.ajax({
                url:url,
                type:'get',
                success:function(res){
                    console.log(res.subjects);
                    var subjects = res.subjects;
                    console.log(subjects.length);
                    console.log(subjects[0].title);
                    var str = '';
                    for(var i =0 ; i < subjects.length; i++){
                        console.log(subjects[i].images.small);
                        str = str + '<tr><th>'+subjects[i].genres+'</th><th>'+subjects[i].id+'</th><th><img src = "'+subjects[i].images.large+'"></th><th>'+subjects[i].title+'</th><th>'+subjects[i].year+'</th></tr>';
                    }
                    $('.table').append(str);
                }
            })
        })
    
    </script>
    
</body>
</html>